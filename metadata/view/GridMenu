{
    "type": "Ext.menu.Menu",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userAlias": "gridmenu",
        "designer|userClassName": "GridMenu",
        "width": 120
    },
    "name": "MyMenu",
    "designerId": "b0b0e426-baed-4569-a060-4c3a29962806",
    "viewControllerInstanceId": "9a5e18a8-af69-4d41-b4f9-698285aba932",
    "viewModelInstanceId": "c304fe76-ea2d-4012-96e7-139fc5e55690",
    "cn": [
        {
            "type": "Ext.menu.Item",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "text": "Edit"
            },
            "name": "MyMenuItem",
            "designerId": "44eab032-08e2-4ac6-88a1-0fdad5dbc884",
            "cn": [
                {
                    "type": "fixedfunction",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|params": [
                            "item",
                            "e"
                        ],
                        "fn": "handler",
                        "implHandler": [
                            "Ext.create('HomeAccounting.view.EditWindow').loadRecord(this.parentMenu.record);"
                        ]
                    },
                    "name": "handler",
                    "designerId": "b86cccb8-c688-4684-9100-6d74f955930d"
                }
            ]
        },
        {
            "type": "Ext.menu.Item",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "text": "Delete"
            },
            "name": "MyMenuItem1",
            "designerId": "912d69b6-3443-4b69-8e76-f7994b445857",
            "cn": [
                {
                    "type": "fixedfunction",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|params": [
                            "item",
                            "e"
                        ],
                        "fn": "handler",
                        "implHandler": [
                            "var xhr = new XMLHttpRequest();",
                            "xhr.open('DELETE', 'https://www.googleapis.com/calendar/v3/calendars/' + Ext.ComponentQuery.query('#calendarId')[0].getValue() + '/events/' + this.parentMenu.record.get('id'));",
                            "var oauthToken = gapi.auth.getToken();",
                            "xhr.setRequestHeader('Authorization', 'Bearer ' + oauthToken.access_token);",
                            "xhr.setRequestHeader('Content-Type', 'application/json');",
                            "xhr.onload = Ext.Function.bind(this.parentMenu.onEventDelete, this.parentMenu);",
                            "xhr.send();"
                        ]
                    },
                    "name": "handler",
                    "designerId": "a2a579d7-a895-4a43-bafe-3e38fa1771e8"
                }
            ]
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onEventDelete",
                "implHandler": [
                    "Ext.data.StoreManager.get('Events').load();"
                ]
            },
            "name": "onEventDelete",
            "designerId": "512a1d90-4dfb-4274-ba3f-1fa6f660c7c7"
        }
    ]
}
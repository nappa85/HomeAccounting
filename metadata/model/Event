{
    "type": "Ext.data.Model",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "Event"
    },
    "name": "MyModel",
    "designerId": "3c3ef9dd-b4c8-4d28-ab6d-bdea6a43848b",
    "cn": [
        {
            "type": "Ext.data.field.String",
            "reference": {
                "name": "fields",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "name": "id"
            },
            "name": "MyString2",
            "designerId": "765470a3-0ed1-4c56-8e71-47a7322e9259"
        },
        {
            "type": "Ext.data.field.String",
            "reference": {
                "name": "fields",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "name": "summary"
            },
            "name": "MyString3",
            "designerId": "a4086674-7ed3-46b1-a623-237d0d4877ef"
        },
        {
            "type": "Ext.data.field.Date",
            "reference": {
                "name": "fields",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "dateFormat": "c",
                "name": "start"
            },
            "name": "MyDate2",
            "designerId": "519c77aa-3cd8-49ec-8a42-ad56b71ce801",
            "cn": [
                {
                    "type": "fixedfunction",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|params": [
                            "v",
                            "rec"
                        ],
                        "fn": "convert",
                        "implHandler": [
                            "return Ext.Date.parse(v.dateTime, 'c');"
                        ]
                    },
                    "name": "convert",
                    "designerId": "fac55789-1be3-4c74-b1d3-dbb3ab664e4b"
                }
            ]
        },
        {
            "type": "Ext.data.field.String",
            "reference": {
                "name": "fields",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "name": "description"
            },
            "name": "MyString4",
            "designerId": "58c3c64b-4d93-4de8-9d4b-8777c75174f3",
            "cn": [
                {
                    "type": "fixedfunction",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|params": [
                            "v",
                            "rec"
                        ],
                        "fn": "convert",
                        "implHandler": [
                            "var oMerchants = Ext.data.StoreManager.get('Merchants'),",
                            "\toItems = Ext.data.StoreManager.get('Items'),",
                            "\toTags = Ext.data.StoreManager.get('Tags'),",
                            "\ti = 0,",
                            "\toGeneric,",
                            "\tfTotal;",
                            "",
                            "try {",
                            "\tExt.apply(rec.data, Ext.JSON.decode(v, true));",
                            "",
                            "\toGeneric = oMerchants.findRecord('name', rec.data.merchant.trim(), 0, false, false, true);",
                            "\tif(oGeneric === null) {",
                            "\t\toMerchants.add({",
                            "\t\t\tname: rec.data.merchant.trim(),",
                            "\t\t\ttotal: rec.data.total,",
                            "\t\t\tcount: 1,",
                            "\t\t\tmin: rec.data.total,",
                            "\t\t\tmax: rec.data.total",
                            "\t\t});",
                            "\t}",
                            "\telse {",
                            "\t\toGeneric.set('total', oGeneric.get('total') + rec.data.total);",
                            "\t\toGeneric.set('count', oGeneric.get('count') + 1);",
                            "\t\tif(oGeneric.get('min') > rec.data.total) {",
                            "\t\t\toGeneric.set('min', rec.data.total);",
                            "\t\t}",
                            "\t\tif(oGeneric.get('max') < rec.data.total) {",
                            "\t\t\toGeneric.set('max', rec.data.total);",
                            "\t\t}",
                            "\t}",
                            "",
                            "\tfor(; i < rec.data.rows.length; i++) {",
                            "\t\tfTotal = (rec.data.rows[i].number * rec.data.rows[i].price);",
                            "",
                            "\t\toGeneric = oItems.findRecord('name', rec.data.rows[i].item.trim(), 0, false, false, true);",
                            "\t\tif(oGeneric === null) {",
                            "\t\t\toItems.add({",
                            "\t\t\t\tname: rec.data.rows[i].item.trim(),",
                            "\t\t\t\ttotal: fTotal,",
                            "\t\t\t\tcount: rec.data.rows[i].number,",
                            "\t\t\t\tmin: rec.data.rows[i].price,",
                            "\t\t\t\tmax: rec.data.rows[i].price",
                            "\t\t\t});",
                            "\t\t}",
                            "\t\telse {",
                            "\t\t\toGeneric.set('total', oGeneric.get('total') + fTotal);",
                            "\t\t\toGeneric.set('count', oGeneric.get('count') + rec.data.rows[i].number);",
                            "\t\t\tif(oGeneric.get('min') > rec.data.rows[i].price) {",
                            "\t\t\t\toGeneric.set('min', rec.data.rows[i].price);",
                            "\t\t\t}",
                            "\t\t\tif(oGeneric.get('max') < rec.data.rows[i].price) {",
                            "\t\t\t\toGeneric.set('max', rec.data.rows[i].price);",
                            "\t\t\t}",
                            "\t\t}",
                            "",
                            "\t\tif(!Ext.isEmpty(rec.data.rows[i].tag)) {",
                            "\t\t\toGeneric = oTags.findRecord('name', rec.data.rows[i].tag.trim(), 0, false, false, true);",
                            "\t\t\tif(oGeneric === null) {",
                            "\t\t\t\toTags.add({",
                            "\t\t\t\t\tname: rec.data.rows[i].tag.trim(),",
                            "\t\t\t\t\ttotal: (rec.data.rows[i].number * rec.data.rows[i].price),",
                            "\t\t\t\t\tcount: rec.data.rows[i].number,",
                            "\t\t\t\t\tmin: fTotal,",
                            "\t\t\t\t\tmax: fTotal",
                            "\t\t\t\t});",
                            "\t\t\t}",
                            "\t\t\telse {",
                            "\t\t\t\toGeneric.set('total', oGeneric.get('total') + fTotal);",
                            "\t\t\t\toGeneric.set('count', oGeneric.get('count') + 1);",
                            "\t\t\t\tif(oGeneric.get('min') > fTotal) {",
                            "\t\t\t\t\toGeneric.set('min', fTotal);",
                            "\t\t\t\t}",
                            "\t\t\t\tif(oGeneric.get('max') < fTotal) {",
                            "\t\t\t\t\toGeneric.set('max', fTotal);",
                            "\t\t\t\t}",
                            "\t\t\t}",
                            "\t\t}",
                            "\t}",
                            "}",
                            "catch(e) {",
                            "\tif(console && console.log) {",
                            "\t\tconsole.log(e);",
                            "\t}",
                            "}",
                            "return v;"
                        ]
                    },
                    "name": "convert",
                    "designerId": "63453629-c336-4c99-9ef6-4e16c6df8c23"
                }
            ]
        },
        {
            "type": "Ext.data.field.String",
            "reference": {
                "name": "fields",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "name": "merchant"
            },
            "name": "MyString5",
            "designerId": "17308358-bd5f-4ff0-9eb6-2e523ddd8ba1"
        },
        {
            "type": "Ext.data.field.Date",
            "reference": {
                "name": "fields",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "dateFormat": "Y-m-d",
                "name": "date"
            },
            "name": "MyDate",
            "designerId": "446c7183-41de-4715-a05c-2bdf96a10181"
        },
        {
            "type": "Ext.data.field.Date",
            "reference": {
                "name": "fields",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "dateFormat": "H:i:s",
                "name": "time"
            },
            "name": "MyDate1",
            "designerId": "0433c1dc-9cdd-46c4-9b04-f4f8997340b1"
        },
        {
            "type": "Ext.data.field.Number",
            "reference": {
                "name": "fields",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "name": "total"
            },
            "name": "MyNumber",
            "designerId": "1eaa35df-fca1-4720-bfb1-13c6fc1a4caa"
        },
        {
            "type": "Ext.data.field.Field",
            "reference": {
                "name": "fields",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "name": "rows"
            },
            "name": "MyField",
            "designerId": "528840cc-190b-4244-9e46-bad497ec6e33"
        }
    ]
}